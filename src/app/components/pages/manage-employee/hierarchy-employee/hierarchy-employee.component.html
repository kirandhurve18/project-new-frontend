<div class="container-fluid">
  <!-- Header -->
  <div class="sticky-top bg-white" style="z-index: 1000">
    <div
      class="bg-white rounded shadow-sm px-3 py-3 d-flex justify-content-between align-items-center flex-wrap"
    >
      <h5 class="fw-bold mb-0">Team Hierarchy</h5>
    </div>

    <!-- Filters -->
    <!-- Card 2: Filters + Employee Table -->
    <div class="card shadow-sm border-0 bg-white">
      <div class="card-body">
        <div class="card shadow-sm border-0 bg-white mt-2">
          <div class="card-body">
            <div class="row mb-3">
              <!-- Show entries -->
              <div
                class="col-md-6 col-12 d-flex align-items-center mb-2 mb-md-0"
              >
                <label class="me-2 mb-0">Show</label>
                <select
                  [(ngModel)]="entriesPerPage"
                  class="form-select form-select-sm w-auto"
                  (change)="onEntriesChange()"
                >
                  <option [value]="5">5</option>
                  <option [value]="10">10</option>
                  <option [value]="15">15</option>
                  <option [value]="20">20</option>
                </select>
                <span class="ms-2">entries</span>
              </div>

              <!-- Search -->
              <div class="col-md-3 col-12">
                <div class="input-group">
                  <input
                    type="text"
                    [(ngModel)]="searchQuery"
                    class="form-control"
                    placeholder="Search Employee"
                    (input)="onSearchChange()"
                  />
                  <span class="input-group-text bg-white">
                    <i class="bi bi-search"></i>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table wrapper -->
      <div class="table-scroll-wrapper mt-3">
        <div class="table-responsive" style="min-width: 1600px">
          <!-- Table Header -->
          <div
            class="row gx-0 fw-bold text-center sticky-header"
            style="background-color: #009688; height: 50px"
          >
            <div class="col" style="min-width: 120px">Emp ID</div>
            <div class="col" style="min-width: 180px">Employee Name</div>
            <div class="col" style="min-width: 150px">Designation</div>
            <div class="col" style="min-width: 150px">Department</div>
            <div class="col" style="min-width: 120px">City</div>
            <div class="col" style="min-width: 120px">DOJ</div>
            <div class="col" style="min-width: 120px">Work Mode</div>
            <div class="col" style="min-width: 120px">Role</div>
            <div class="col" style="min-width: 140px">Mobile Number</div>
            <div class="col" style="min-width: 180px">Company Email</div>
            <div class="col" style="min-width: 180px">Team Lead</div>
            <div class="col" style="min-width: 180px">Team Manager</div>
            <div class="col" style="min-width: 180px">Reviewer</div>
          </div>

          <!-- Table Rows -->
          <div
            *ngFor="let emp of employees; let i = index"
            class="row gx-0 border-bottom py-3 align-items-center text-start text-md-center"
            [ngStyle]="{
              'background-color': i % 2 === 1 ? '#E5F4F3' : 'transparent'
            }"
          >
            <div class="col" style="min-width: 120px">
              {{ emp.employee_id }}
            </div>
            <div class="col" style="min-width: 180px">{{ emp.full_name }}</div>
            <div class="col" style="min-width: 150px">
              {{ emp.designation_name }}
            </div>
            <div class="col" style="min-width: 150px">
              {{ emp.department_name }}
            </div>
            <div class="col" style="min-width: 120px">{{ emp.city }}</div>
            <div class="col" style="min-width: 120px">
              {{ emp.date_of_joining | date : "dd-MM-yyyy" }}
            </div>
            <div class="col" style="min-width: 120px">{{ emp.work_mode }}</div>
            <div class="col" style="min-width: 120px">{{ emp.role_name }}</div>
            <div class="col" style="min-width: 140px">
              {{ emp.whatsapp_number }}
            </div>
            <div class="col" style="min-width: 250px">
              {{ emp.company_email }}
            </div>
            <div class="col" style="min-width: 180px">
              {{ emp.team_lead_full_name }}
            </div>
            <div class="col" style="min-width: 180px">
              {{ emp.team_manager_full_name }}
            </div>
            <div class="col" style="min-width: 180px">
              {{ emp.reviewer_full_name }}
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div
        class="d-flex justify-content-between align-items-center mt-3 flex-wrap"
      >
        <div class="text-muted">
          Showing {{ employees.length }} of {{ totalEntries }} entries
        </div>

        <nav>
          <ul class="pagination pagination-sm mb-0">
            <li class="page-item" [class.disabled]="currentPage === 1">
              <a class="page-link" (click)="changePage(currentPage - 1)"
                >Previous</a
              >
            </li>
            <li
              class="page-item"
              *ngFor="let p of [].constructor(totalPages); let i = index"
              [class.active]="currentPage === i + 1"
            >
              <a class="page-link" (click)="changePage(i + 1)">{{ i + 1 }}</a>
            </li>
            <li class="page-item" [class.disabled]="currentPage === totalPages">
              <a class="page-link" (click)="changePage(currentPage + 1)"
                >Next</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
