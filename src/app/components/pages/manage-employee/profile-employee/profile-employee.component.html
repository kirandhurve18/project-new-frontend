<div class="container-fluid">
  <!-- Header -->
  <div class="container-fluid my-3">
    <div
      class="bg-white rounded shadow-sm px-3 py-3 d-flex justify-content-between align-items-center flex-wrap"
    >
      <h5 class="fw-bold mb-0">Employee Profile</h5>
    </div>
  </div>

  <!-- Profile Card -->
  <div class="d-flex justify-content-center align-items-center">
    <div
      class="card shadow rounded p-4 w-100"
      style="max-width: 1617px; background-color: #ffffff"
    >
      <div class="card-body">
        <div class="row g-4">
          <!-- Left Column -->
          <div class="col-md-6">
            <!-- Employee Info -->
            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Employee ID:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.employee_id || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >First Name:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.first_name || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Middle Name:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.middle_name || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Last Name:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.last_name || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Company Email:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.company_email || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Personal Email:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.personal_email || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Current Address:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.current_address || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Permanent Address:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.permanent_address || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Date of Birth:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.date_of_birth | date : "dd MMM yyyy" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Date of Joining:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.date_of_joining | date : "dd MMM yyyy" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Probation Ends On:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.probation_period_ends_on | date : "dd MMM yyyy" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Last Working Day:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.last_working_day | date : "dd MMM yyyy" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Notice Period:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.notice_period || "-" }} days
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Work Experience:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.work_experience || "-" }} years
                </p>
              </div>
            </div>

            <!-- Qualification Table -->
            <div class="mb-3">
              <label class="form-label fw-semibold"
                >Qualification Details</label
              >
              <div class="table-responsive">
                <table class="table table-bordered table-sm">
                  <thead>
                    <tr>
                      <th>Subject</th>
                      <th>Year of Passing</th>
                      <th>Percentage</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      *ngFor="
                        let item of [
                          '10th',
                          '12th',
                          'Graduation',
                          'Post Graduation'
                        ]
                      "
                    >
                      <td>{{ item }}</td>
                      <td>{{ qualificationMap[item]?.year || "-" }}</td>
                      <td>{{ qualificationMap[item]?.percentage || "-" }}%</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Right Column -->
          <div class="col-md-6">
            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold">Salary:</label>
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  â‚¹ {{ formData.salary || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Employment Type:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.employment_type || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Department:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ getDepartmentName(formData.department_id) }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Designation:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ getDesignationName(formData.designation_id) }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Team Lead:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ getTeamLeadName(formData.team_lead_id) }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Team Manager:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ getTeamManagerName(formData.team_manager_id) }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold">Role:</label>
              <div class="col-sm-8">
                <p class="form-control-plaintext">{{ formData.role || "-" }}</p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Permissions:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ getRoleName(formData.role_id) }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Employee Number:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.employee_number || "-" }} /
                  {{ formData.alternate_number || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Emergency Contact:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.emergency_number || "-" }} ({{
                    formData.family_member_relation || "-"
                  }})
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold">Gender:</label>
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.gender || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-2 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Blood Group:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.blood_group || "-" }}
                </p>
              </div>
            </div>

            <div class="mb-3 row">
              <label class="col-sm-4 col-form-label fw-semibold"
                >Work Mode:</label
              >
              <div class="col-sm-8">
                <p class="form-control-plaintext">
                  {{ formData.work_mode || "-" }}
                </p>
              </div>
            </div>

            <!-- Documents -->
            <div class="documents-section mb-3">
              <label class="form-label fw-semibold">Documents:</label>
              <div class="table-responsive">
                <table class="table table-bordered table-sm">
                  <thead>
                    <tr>
                      <th>Sr. No.</th>
                      <th>Document Name</th>
                      <th>Files</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let doc of docs || []; let i = index">
                      <td>{{ i + 1 }}</td>
                      <td>{{ doc?.name || "-" }}</td>
                      <td>
                        <ng-container *ngIf="doc?.files?.length; else noFile">
                          <div *ngFor="let f of doc.files || []">
                            <a
                              [href]="getFileUrl(f?.path)"
                              target="_blank"
                              class="text-blue-600"
                            >
                              {{
                                f?.path
                                  ? (f.path | slice : -35)
                                  : "Untitled File"
                              }}
                            </a>
                          </div>
                        </ng-container>
                        <ng-template #noFile>
                          <span class="text-muted">No file uploaded</span>
                        </ng-template>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <!-- Right Column End -->
        </div>
      </div>
    </div>
  </div>
</div>
